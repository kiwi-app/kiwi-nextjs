{"version":3,"file":"index.js","sources":["../../../src/components/CatchAllServer.tsx","../../node_modules/@microsoft/fetch-event-source/lib/esm/parse.js","../../node_modules/style-inject/dist/style-inject.es.js","../../node_modules/@microsoft/fetch-event-source/lib/esm/fetch.js","../../../manifest.ts","../../../src/helpers/index.ts","../../../src/components/CatchAllClient.tsx","../../../src/components/CatchAll.tsx","../../../src/routes/index.ts","../../../src/props/RichText.tsx"],"sourcesContent":[null,"export async function getBytes(stream, onChunk) {\r\n    const reader = stream.getReader();\r\n    let result;\r\n    while (!(result = await reader.read()).done) {\r\n        onChunk(result.value);\r\n    }\r\n}\r\nexport function getLines(onLine) {\r\n    let buffer;\r\n    let position;\r\n    let fieldLength;\r\n    let discardTrailingNewline = false;\r\n    return function onChunk(arr) {\r\n        if (buffer === undefined) {\r\n            buffer = arr;\r\n            position = 0;\r\n            fieldLength = -1;\r\n        }\r\n        else {\r\n            buffer = concat(buffer, arr);\r\n        }\r\n        const bufLength = buffer.length;\r\n        let lineStart = 0;\r\n        while (position < bufLength) {\r\n            if (discardTrailingNewline) {\r\n                if (buffer[position] === 10) {\r\n                    lineStart = ++position;\r\n                }\r\n                discardTrailingNewline = false;\r\n            }\r\n            let lineEnd = -1;\r\n            for (; position < bufLength && lineEnd === -1; ++position) {\r\n                switch (buffer[position]) {\r\n                    case 58:\r\n                        if (fieldLength === -1) {\r\n                            fieldLength = position - lineStart;\r\n                        }\r\n                        break;\r\n                    case 13:\r\n                        discardTrailingNewline = true;\r\n                    case 10:\r\n                        lineEnd = position;\r\n                        break;\r\n                }\r\n            }\r\n            if (lineEnd === -1) {\r\n                break;\r\n            }\r\n            onLine(buffer.subarray(lineStart, lineEnd), fieldLength);\r\n            lineStart = position;\r\n            fieldLength = -1;\r\n        }\r\n        if (lineStart === bufLength) {\r\n            buffer = undefined;\r\n        }\r\n        else if (lineStart !== 0) {\r\n            buffer = buffer.subarray(lineStart);\r\n            position -= lineStart;\r\n        }\r\n    };\r\n}\r\nexport function getMessages(onId, onRetry, onMessage) {\r\n    let message = newMessage();\r\n    const decoder = new TextDecoder();\r\n    return function onLine(line, fieldLength) {\r\n        if (line.length === 0) {\r\n            onMessage === null || onMessage === void 0 ? void 0 : onMessage(message);\r\n            message = newMessage();\r\n        }\r\n        else if (fieldLength > 0) {\r\n            const field = decoder.decode(line.subarray(0, fieldLength));\r\n            const valueOffset = fieldLength + (line[fieldLength + 1] === 32 ? 2 : 1);\r\n            const value = decoder.decode(line.subarray(valueOffset));\r\n            switch (field) {\r\n                case 'data':\r\n                    message.data = message.data\r\n                        ? message.data + '\\n' + value\r\n                        : value;\r\n                    break;\r\n                case 'event':\r\n                    message.event = value;\r\n                    break;\r\n                case 'id':\r\n                    onId(message.id = value);\r\n                    break;\r\n                case 'retry':\r\n                    const retry = parseInt(value, 10);\r\n                    if (!isNaN(retry)) {\r\n                        onRetry(message.retry = retry);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction concat(a, b) {\r\n    const res = new Uint8Array(a.length + b.length);\r\n    res.set(a);\r\n    res.set(b, a.length);\r\n    return res;\r\n}\r\nfunction newMessage() {\r\n    return {\r\n        data: '',\r\n        event: '',\r\n        id: '',\r\n        retry: undefined,\r\n    };\r\n}\r\n//# sourceMappingURL=parse.js.map","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","var __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport { getBytes, getLines, getMessages } from './parse';\r\nexport const EventStreamContentType = 'text/event-stream';\r\nconst DefaultRetryInterval = 1000;\r\nconst LastEventId = 'last-event-id';\r\nexport function fetchEventSource(input, _a) {\r\n    var { signal: inputSignal, headers: inputHeaders, onopen: inputOnOpen, onmessage, onclose, onerror, openWhenHidden, fetch: inputFetch } = _a, rest = __rest(_a, [\"signal\", \"headers\", \"onopen\", \"onmessage\", \"onclose\", \"onerror\", \"openWhenHidden\", \"fetch\"]);\r\n    return new Promise((resolve, reject) => {\r\n        const headers = Object.assign({}, inputHeaders);\r\n        if (!headers.accept) {\r\n            headers.accept = EventStreamContentType;\r\n        }\r\n        let curRequestController;\r\n        function onVisibilityChange() {\r\n            curRequestController.abort();\r\n            if (!document.hidden) {\r\n                create();\r\n            }\r\n        }\r\n        if (!openWhenHidden) {\r\n            document.addEventListener('visibilitychange', onVisibilityChange);\r\n        }\r\n        let retryInterval = DefaultRetryInterval;\r\n        let retryTimer = 0;\r\n        function dispose() {\r\n            document.removeEventListener('visibilitychange', onVisibilityChange);\r\n            window.clearTimeout(retryTimer);\r\n            curRequestController.abort();\r\n        }\r\n        inputSignal === null || inputSignal === void 0 ? void 0 : inputSignal.addEventListener('abort', () => {\r\n            dispose();\r\n            resolve();\r\n        });\r\n        const fetch = inputFetch !== null && inputFetch !== void 0 ? inputFetch : window.fetch;\r\n        const onopen = inputOnOpen !== null && inputOnOpen !== void 0 ? inputOnOpen : defaultOnOpen;\r\n        async function create() {\r\n            var _a;\r\n            curRequestController = new AbortController();\r\n            try {\r\n                const response = await fetch(input, Object.assign(Object.assign({}, rest), { headers, signal: curRequestController.signal }));\r\n                await onopen(response);\r\n                await getBytes(response.body, getLines(getMessages(id => {\r\n                    if (id) {\r\n                        headers[LastEventId] = id;\r\n                    }\r\n                    else {\r\n                        delete headers[LastEventId];\r\n                    }\r\n                }, retry => {\r\n                    retryInterval = retry;\r\n                }, onmessage)));\r\n                onclose === null || onclose === void 0 ? void 0 : onclose();\r\n                dispose();\r\n                resolve();\r\n            }\r\n            catch (err) {\r\n                if (!curRequestController.signal.aborted) {\r\n                    try {\r\n                        const interval = (_a = onerror === null || onerror === void 0 ? void 0 : onerror(err)) !== null && _a !== void 0 ? _a : retryInterval;\r\n                        window.clearTimeout(retryTimer);\r\n                        retryTimer = window.setTimeout(create, interval);\r\n                    }\r\n                    catch (innerErr) {\r\n                        dispose();\r\n                        reject(innerErr);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        create();\r\n    });\r\n}\r\nfunction defaultOnOpen(response) {\r\n    const contentType = response.headers.get('content-type');\r\n    if (!(contentType === null || contentType === void 0 ? void 0 : contentType.startsWith(EventStreamContentType))) {\r\n        throw new Error(`Expected content-type to be ${EventStreamContentType}, Actual: ${contentType}`);\r\n    }\r\n}\r\n//# sourceMappingURL=fetch.js.map",null,null,null,null,null,null],"names":["CatchAllServer","page","manifest","React","createElement","className","sections","map","section","idx","id","type","sectionModule","Component","module","default","key","props","getLines","onLine","buffer","position","fieldLength","discardTrailingNewline","arr","undefined","a","b","res","Uint8Array","length","set","concat","bufLength","lineStart","lineEnd","subarray","css","ref","insertAt","document","head","getElementsByTagName","style","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","propertyIsEnumerable","EventStreamContentType","LastEventId","fetchEventSource","input","_a","signal","inputSignal","headers","inputHeaders","onopen","inputOnOpen","onmessage","onclose","onerror","openWhenHidden","fetch","inputFetch","rest","Promise","resolve","reject","assign","curRequestController","onVisibilityChange","abort","hidden","create","accept","addEventListener","retryInterval","retryTimer","dispose","removeEventListener","window","clearTimeout","defaultOnOpen","async","AbortController","response","stream","onChunk","reader","getReader","result","read","done","value","getBytes","body","onId","onRetry","onMessage","message","data","event","retry","decoder","TextDecoder","line","field","decode","valueOffset","parseInt","isNaN","getMessages","err","aborted","interval","setTimeout","innerErr","contentType","get","startsWith","Error","NEXT_PUBLIC_KIWI_ADMIN_URL","NEXT_PUBLIC_KIWI_API_KEY","url","process","env","defaultLiveMessage","getLoaderProps","loaderRequest","oldProps","schema","newProps","loaders","loadersProps","_loaderMetadata","property","component","properties","name","loaderReference","push","hasExportedLoader","hasUpdatedLoaderProps","loader","Loader","loaderProps","loaderProperty","oldLoaderMetadata","loadersResponses","all","propName","loaderResponse","mergeManifest","internalManifest","sendSectionHoverEvent","iframeRef","postMessage","sectionHoverEvent","sendSectionClickEvent","sectionClickEvent","CatchAllClient","externalManifest","initialPage","requestInfo","setPage","useState","liveEditing","setLiveEditing","selectedSectionId","setSelectedSectionId","hoveredSectionId","setHoveredSectionId","useEffect","isInsideIframe","self","top","onReceiveMessage","console","error","site","path","ev","processEvent","JSON","parse","newPage","useSectionLoaders","sectionId","includes","onMouseLeave","parent","onMouseEnter","onClick","KiwiCatchAll","ClientComponent","ServerComponent","params","kiwi","join","isLive","mergedManifest","cookies","getAll","forEach","_","request","replace","json","getPageConfig","corsHeaders","LiveRoute","PATCH","execSync","NextResponse","GET","POST","req","method","OPTIONS","RichTextComponent","text","dangerouslySetInnerHTML","__html"],"mappings":"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","x_google_ignoreList":[1,2,3]}